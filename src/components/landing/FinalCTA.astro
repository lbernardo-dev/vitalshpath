---
import { type Lang } from "../../i18n/ui-locales";
import { useTranslations } from "../../i18n";
import WaitlistForm from "./WaitlistForm.astro";
import { Sparkles, ArrowRight, ShieldCheck, Heart } from "lucide-react";

interface Props {
    lang: Lang;
}

const { lang } = Astro.props;
const t = useTranslations(lang);
const baseUrl = import.meta.env.BASE_URL.replace(/\/$/, "");
---

<section
    id="waitlist"
    class="py-24 md:py-32 relative overflow-hidden bg-gray-50 dark:bg-gray-950 transition-colors duration-500"
>
    <!-- Animated Mesh Gradients -->
    <div class="absolute inset-0 -z-10 opacity-30 dark:opacity-40">
        <div
            class="absolute top-[-20%] left-[-10%] w-[700px] h-[700px] bg-blue-400/20 dark:bg-blue-600/30 rounded-full blur-[120px] animate-pulse"
        >
        </div>
        <div
            class="absolute bottom-[-20%] right-[-10%] w-[700px] h-[700px] bg-purple-400/20 dark:bg-purple-600/30 rounded-full blur-[120px] animate-pulse"
            style="animation-delay: 2s;"
        >
        </div>
        <div
            class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-500/10 via-transparent to-transparent dark:from-blue-500/10"
        >
        </div>
    </div>

    <!-- Decorative grid -->
    <div
        class="absolute inset-0 -z-10 opacity-[0.03] bg-[grid_32px_32px] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_50%,#000_70%,transparent_100%)]"
    >
    </div>

    <div class="container mx-auto px-6 relative">
        <div class="max-w-6xl mx-auto">
            <div class="relative group">
                <!-- Large Glow Effect -->
                <div
                    class="absolute -inset-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-[4rem] blur opacity-25 group-hover:opacity-40 transition duration-1000 group-hover:duration-200"
                >
                </div>

                <!-- Floating Badge - Moved outside overflow-hidden and enhanced -->
                <div
                    class="absolute -top-6 right-0 md:-right-8 px-6 py-3 bg-gradient-to-r from-yellow-400 via-orange-500 to-yellow-500 rounded-full shadow-[0_0_30px_rgba(234,179,8,0.3)] rotate-3 animate-float z-20 hidden md:flex items-center gap-2 border-2 border-white/20 whitespace-nowrap"
                >
                    <Sparkles class="w-4 h-4 text-black" />
                    <span
                        class="text-black font-black text-xs md:text-sm uppercase tracking-wider"
                        >{t("waitlist.badgeOffer")}</span
                    >
                </div>

                <div
                    class="relative bg-white/60 dark:bg-black/40 backdrop-blur-3xl border border-blue-500/10 dark:border-white/10 rounded-[3.5rem] p-8 md:p-16 lg:p-20 shadow-[0_32px_64px_-16px_rgba(0,0,0,0.1)] dark:shadow-2xl overflow-hidden transition-all duration-500"
                >
                    <!-- Internal Light Source -->
                    <div
                        class="absolute top-0 right-0 w-96 h-96 bg-blue-500/5 dark:bg-blue-500/10 rounded-full blur-[80px] -mr-48 -mt-48"
                    >
                    </div>

                    <div class="grid lg:grid-cols-2 gap-16 items-center">
                        <div>
                            <div
                                class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-blue-500/5 dark:bg-blue-500/10 border border-blue-500/10 dark:border-blue-500/20 text-blue-600 dark:text-blue-400 text-sm font-black mb-8 uppercase tracking-widest"
                            >
                                <Sparkles class="w-4 h-4" />
                                {t("waitlist.badge")}
                            </div>

                            <h2
                                class="text-4xl md:text-6xl lg:text-7xl font-black text-gray-900 dark:text-white mb-8 tracking-tighter leading-[1.1] italic"
                            >
                                {t("waitlist.title")}
                                <span
                                    class="block bg-gradient-to-r from-blue-600 via-purple-600 to-pink-500 dark:from-blue-400 dark:via-pink-400 dark:to-purple-400 bg-clip-text text-transparent"
                                >
                                    {t("waitlist.titleHighlight")}
                                </span>
                            </h2>

                            <p
                                class="text-xl text-gray-600 dark:text-gray-400 mb-12 max-w-xl leading-relaxed font-medium"
                            >
                                {t("waitlist.subtitle")}
                            </p>

                            <div class="flex flex-col gap-6">
                                <div
                                    class="flex items-center gap-4 text-gray-700 dark:text-gray-300"
                                >
                                    <div
                                        class="w-12 h-12 rounded-2xl bg-blue-500/5 dark:bg-white/5 flex items-center justify-center border border-blue-500/10 dark:border-white/10"
                                    >
                                        <ShieldCheck
                                            class="w-6 h-6 text-blue-600 dark:text-blue-400"
                                        />
                                    </div>
                                    <div>
                                        <p
                                            class="font-black text-gray-900 dark:text-white uppercase tracking-tight"
                                        >
                                            {t("waitlist.privacyTitle")}
                                        </p>
                                        <p
                                            class="text-xs text-gray-500 dark:text-gray-500 font-medium"
                                        >
                                            {t("waitlist.privacyDesc")}
                                        </p>
                                    </div>
                                </div>
                                <div
                                    class="flex items-center gap-4 text-gray-700 dark:text-gray-300"
                                >
                                    <div
                                        class="w-12 h-12 rounded-2xl bg-pink-500/5 dark:bg-white/5 flex items-center justify-center border border-pink-500/10 dark:border-white/10"
                                    >
                                        <Heart
                                            class="w-6 h-6 text-pink-500 dark:text-pink-400"
                                        />
                                    </div>
                                    <div>
                                        <p
                                            class="font-black text-gray-900 dark:text-white uppercase tracking-tight"
                                        >
                                            {t("waitlist.discount")}
                                        </p>
                                        <p
                                            class="text-xs text-gray-500 dark:text-gray-500 font-medium"
                                        >
                                            {t("waitlist.discountDesc")}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="relative">
                            <!-- Visual Decoration -->
                            <div
                                class="absolute -top-12 -left-12 w-24 h-24 bg-purple-500/10 dark:bg-purple-500/20 rounded-full blur-2xl"
                            >
                            </div>
                            <div
                                class="absolute -bottom-12 -right-12 w-24 h-24 bg-blue-500/10 dark:bg-blue-500/20 rounded-full blur-2xl"
                            >
                            </div>

                            <div
                                class="bg-gray-50/50 dark:bg-white/5 backdrop-blur-2xl p-8 md:p-10 rounded-[2.5rem] border border-black/5 dark:border-white/10 shadow-inner relative z-10"
                            >
                                <div class="mb-8">
                                    <h3
                                        class="text-2xl font-black text-gray-900 dark:text-white mb-2 uppercase tracking-tight italic"
                                    >
                                        {t("waitlist.joinTitle")}
                                    </h3>
                                    <p
                                        class="text-sm text-gray-500 dark:text-gray-400 font-medium"
                                    >
                                        {t("waitlist.joinDesc")}
                                    </p>
                                </div>

                                <WaitlistForm lang={lang} />

                                <div
                                    class="mt-8 pt-8 border-t border-black/5 dark:border-white/10"
                                >
                                    <div class="flex items-center gap-3">
                                        <div
                                            class="w-2.5 h-2.5 rounded-full bg-green-500 animate-pulse shadow-[0_0_10px_rgba(34,197,94,0.5)]"
                                        >
                                        </div>
                                        <p
                                            class="text-xs md:text-sm text-gray-600 dark:text-gray-300 font-bold"
                                        >
                                            {t("waitlist.privacy")}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    @keyframes float {
        0%,
        100% {
            transform: translateY(0) rotate(12deg);
        }
        50% {
            transform: translateY(-10px) rotate(15deg);
        }
    }
    .animate-float {
        animation: float 4s ease-in-out infinite;
    }
</style>
