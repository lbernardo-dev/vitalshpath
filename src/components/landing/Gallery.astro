---
import { Image } from "astro:assets";
import { type Lang } from "../../i18n/ui-locales";
import { useTranslations } from "../../i18n";
import DeviceMockup from "../DeviceMockup.astro";
import {
    LayoutDashboard,
    Activity,
    Users,
    TrendingUp,
    ArrowLeftRight,
    FileText,
    Lock,
} from "lucide-react";

// Import images
import screenDashboard from "../../assets/images/screens/screen-01-dashboard.PNG";
import screenProfiles from "../../assets/images/screens/screen-02-profiles.PNG";
import screenMedications from "../../assets/images/screens/screen-04-medications.PNG";
import screenSymptoms from "../../assets/images/screens/screen-13-symptoms.PNG";
import screenWellness from "../../assets/images/screens/screen-18-wellness.PNG";
import screenDashboardLight from "../../assets/images/screens/screen-22-dashboard-light.PNG";
import screenDashboardDark from "../../assets/images/screens/screen-23-dashboard-dark.PNG";

interface Props {
    lang: Lang;
}

const { lang } = Astro.props;
const t = useTranslations(lang);
---

<section
    id="gallery"
    class="py-24 relative overflow-hidden bg-gray-50 dark:bg-black"
>
    {/* Decorative background elements */}
    <div class="absolute inset-0 pointer-events-none">
        <div
            class="absolute top-1/4 -left-20 w-96 h-96 bg-blue-500/10 rounded-full blur-[120px]"
        >
        </div>
        <div
            class="absolute bottom-1/4 -right-20 w-96 h-96 bg-purple-500/10 rounded-full blur-[120px]"
        >
        </div>
    </div>

    <div class="container mx-auto px-6 relative z-10">
        <div class="text-center max-w-3xl mx-auto mb-20">
            <span
                class="inline-block px-4 py-2 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-sm font-semibold mb-4"
            >
                {t("gallery.badge")}
            </span>
            <h2
                class="text-4xl md:text-6xl font-black text-gray-900 dark:text-white mb-6 tracking-tight"
            >
                {t("gallery.title")}<br />
                <span
                    class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600"
                >
                    {t("gallery.titleHighlight")}
                </span>
            </h2>
            <p class="text-xl text-gray-600 dark:text-gray-400">
                {t("gallery.note")}
            </p>
        </div>

        <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12 items-center"
        >
            {/* Left Column - Feature List */}
            <div class="lg:col-span-1 space-y-8" data-aos="fade-up">
                {/* Dashboard */}
                <div
                    class="p-6 rounded-3xl bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 shadow-xl hover:shadow-blue-500/10 transition-all group"
                >
                    <div
                        class="w-12 h-12 rounded-2xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform"
                    >
                        <LayoutDashboard className="w-6 h-6 text-blue-600" />
                    </div>
                    <h3
                        class="text-xl font-bold text-gray-900 dark:text-white mb-3"
                    >
                        {t("features.items.dashboards.title")}
                    </h3>
                    <p
                        class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed"
                    >
                        {t("features.items.dashboards.description")}
                    </p>
                </div>

                {/* Metrics */}
                <div
                    class="p-6 rounded-3xl bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 shadow-xl hover:shadow-purple-500/10 transition-all group"
                >
                    <div
                        class="w-12 h-12 rounded-2xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform"
                    >
                        <TrendingUp className="w-6 h-6 text-purple-600" />
                    </div>
                    <h3
                        class="text-xl font-bold text-gray-900 dark:text-white mb-3"
                    >
                        {t("features.items.metrics.title")}
                    </h3>
                    <p
                        class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed"
                    >
                        {t("features.items.metrics.description")}
                    </p>
                </div>

                {/* Reports */}
                <div
                    class="p-6 rounded-3xl bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 shadow-xl hover:shadow-indigo-500/10 transition-all group"
                >
                    <div
                        class="w-12 h-12 rounded-2xl bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform"
                    >
                        <FileText className="w-6 h-6 text-indigo-600" />
                    </div>
                    <h3
                        class="text-xl font-bold text-gray-900 dark:text-white mb-3"
                    >
                        {t("features.items.reports.title")}
                    </h3>
                    <p
                        class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed"
                    >
                        {t("features.items.reports.description")}
                    </p>
                </div>
            </div>

            {/* Central Mockup Stack */}
            <div
                class="lg:col-span-1 flex justify-center py-8"
                data-aos="zoom-in"
            >
                <div class="relative group">
                    <!-- Large Glow Effect -->
                    <div
                        class="absolute -inset-8 bg-gradient-to-tr from-blue-600/20 via-purple-600/20 to-pink-600/20 rounded-[3rem] blur-2xl opacity-40 group-hover:opacity-70 transition-opacity"
                    >
                    </div>

                    <!-- Background Phone (iPhone 15 Pro - Dark Mode) -->
                    <div
                        class="absolute -left-16 top-8 transform -rotate-12 scale-90 opacity-60 group-hover:opacity-80 group-hover:-rotate-6 transition-all duration-700"
                    >
                        <DeviceMockup model="iphone15">
                            <Image
                                src={screenDashboardDark}
                                alt="Dark Mode Dashboard"
                                class="w-full h-full object-cover object-top"
                                width={240}
                            />
                        </DeviceMockup>
                    </div>

                    <!-- Foreground Phone (iPhone 17 Pro Max - Light Mode) -->
                    <div
                        class="relative z-10 transform scale-100 group-hover:scale-105 transition-transform duration-700"
                    >
                        <DeviceMockup model="iphone17">
                            <Image
                                src={screenDashboardLight}
                                alt="Light Mode Dashboard"
                                class="w-full h-full object-cover object-top"
                                width={280}
                            />
                        </DeviceMockup>

                        <!-- Floating Highlight -->
                        <div
                            class="absolute -right-8 bottom-16 bg-white dark:bg-gray-900 p-3 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-800 z-20 animate-float hidden md:block"
                        >
                            <p
                                class="text-[9px] font-black uppercase tracking-wider text-blue-500 mb-1"
                            >
                                Nueva Versi√≥n
                            </p>
                            <p
                                class="text-xs font-bold text-gray-900 dark:text-white"
                            >
                                iOS 26 Ready
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            {/* Right Column - Feature List */}
            <div
                class="lg:col-span-1 space-y-8"
                data-aos="fade-up"
                data-aos-delay="200"
            >
                {/* Export & Import */}
                <div
                    class="p-6 rounded-3xl bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 shadow-xl hover:shadow-teal-500/10 transition-all group"
                >
                    <div
                        class="w-12 h-12 rounded-2xl bg-teal-100 dark:bg-teal-900/30 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform"
                    >
                        <ArrowLeftRight className="w-6 h-6 text-teal-600" />
                    </div>
                    <h3
                        class="text-xl font-bold text-gray-900 dark:text-white mb-3"
                    >
                        {t("features.items.exportImport.title")}
                    </h3>
                    <p
                        class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed"
                    >
                        {t("features.items.exportImport.description")}
                    </p>
                </div>

                {/* Encryption */}
                <div
                    class="p-6 rounded-3xl bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 shadow-xl hover:shadow-rose-500/10 transition-all group"
                >
                    <div
                        class="w-12 h-12 rounded-2xl bg-rose-100 dark:bg-rose-900/30 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform"
                    >
                        <Lock className="w-6 h-6 text-rose-600" />
                    </div>
                    <h3
                        class="text-xl font-bold text-gray-900 dark:text-white mb-3"
                    >
                        {t("features.items.encryption.title")}
                    </h3>
                    <p
                        class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed"
                    >
                        {t("features.items.encryption.description")}
                    </p>
                </div>

                {/* Profiles */}
                <div
                    class="p-6 rounded-3xl bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 shadow-xl hover:shadow-blue-500/10 transition-all group"
                >
                    <div
                        class="w-12 h-12 rounded-2xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform"
                    >
                        <Users className="w-6 h-6 text-blue-600" />
                    </div>
                    <h3
                        class="text-xl font-bold text-gray-900 dark:text-white mb-3"
                    >
                        {t("features.items.profiles.title")}
                    </h3>
                    <p
                        class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed"
                    >
                        {t("features.items.profiles.description")}
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>
