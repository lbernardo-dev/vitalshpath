---
import Layout from "../../layouts/Layout.astro";
import ThemeToggle from "../../components/ThemeToggle.astro";
import LanguageSelector from "../../components/LanguageSelector.astro";
import Footer from "../../components/Footer.astro";
import Header from "../../components/Header.astro";
import { supportedLangs, type Lang } from "../../i18n/ui-locales";
import { useTranslations } from "../../i18n";

export function getStaticPaths() {
    return supportedLangs.map((lang) => ({
        params: { lang },
    }));
}

const { lang } = Astro.params;
const currentLang = lang as Lang;
const t = useTranslations(currentLang);
---

<Layout lang={currentLang}>
    <main class="relative overflow-hidden min-h-screen">
        <div class="fixed inset-0 pointer-events-none overflow-hidden z-0">
            <div
                class="absolute w-[500px] h-[500px] bg-blue-400/20 dark:bg-blue-500/10 rounded-full blur-[100px] top-[-5%] left-[-5%]"
            >
            </div>
            <div
                class="absolute w-[400px] h-[400px] bg-purple-400/15 dark:bg-purple-500/10 rounded-full blur-[100px] top-[40%] right-[-5%]"
            >
            </div>
        </div>

        <Header lang={currentLang} />

        <section class="pt-32 pb-24 relative">
            <div class="container mx-auto px-6 max-w-4xl">
                <h1
                    class="text-4xl sm:text-5xl font-bold text-gray-900 dark:text-white mb-4"
                >
                    {t("legal.subscription.title")}
                </h1>
                <p class="text-sm text-gray-500 dark:text-gray-500 mb-8">
                    {t("legal.subscription.lastUpdated")}
                </p>

                <div
                    class="prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 space-y-8"
                >
                    <section>
                        <div
                            class="space-y-4"
                            set:html={t("legal.subscription.intro")}
                        >
                        </div>
                    </section>

                    <section>
                        <h2
                            class="text-2xl font-bold text-gray-900 dark:text-white mb-4"
                        >
                            {t("legal.subscription.sections.whatIs.title")}
                        </h2>
                        <div
                            class="space-y-4"
                            set:html={t(
                                "legal.subscription.sections.whatIs.content"
                            )}
                        >
                        </div>
                    </section>

                    <section>
                        <h2
                            class="text-2xl font-bold text-gray-900 dark:text-white mb-4"
                        >
                            {t("legal.subscription.sections.plans.title")}
                        </h2>
                        <div
                            class="space-y-4"
                            set:html={t(
                                "legal.subscription.sections.plans.content"
                            )}
                        >
                        </div>
                    </section>

                    <section>
                        <h2
                            class="text-2xl font-bold text-gray-900 dark:text-white mb-4"
                        >
                            {t("legal.subscription.sections.howItWorks.title")}
                        </h2>
                        <div
                            class="space-y-4"
                            set:html={t(
                                "legal.subscription.sections.howItWorks.content"
                            )}
                        >
                        </div>
                    </section>

                    <section>
                        <h2
                            class="text-2xl font-bold text-gray-900 dark:text-white mb-4"
                        >
                            {t("legal.subscription.sections.management.title")}
                        </h2>
                        <div
                            class="space-y-4"
                            set:html={t(
                                "legal.subscription.sections.management.content"
                            )}
                        >
                        </div>
                    </section>

                    <section>
                        <h2
                            class="text-2xl font-bold text-gray-900 dark:text-white mb-4"
                        >
                            {
                                t(
                                    "legal.subscription.sections.cancellation.title"
                                )
                            }
                        </h2>
                        <div
                            class="space-y-4"
                            set:html={t(
                                "legal.subscription.sections.cancellation.content"
                            )}
                        >
                        </div>
                    </section>

                    <section>
                        <h2
                            class="text-2xl font-bold text-gray-900 dark:text-white mb-4"
                        >
                            {t("legal.subscription.sections.issues.title")}
                        </h2>
                        <div
                            class="space-y-4"
                            set:html={t(
                                "legal.subscription.sections.issues.content"
                            )}
                        >
                        </div>
                    </section>

                    <section>
                        <h2
                            class="text-2xl font-bold text-gray-900 dark:text-white mb-4"
                        >
                            {t("legal.subscription.sections.changes.title")}
                        </h2>
                        <div
                            class="space-y-4"
                            set:html={t(
                                "legal.subscription.sections.changes.content"
                            )}
                        >
                        </div>
                    </section>

                    <section>
                        <h2
                            class="text-2xl font-bold text-gray-900 dark:text-white mb-4"
                        >
                            {t("legal.subscription.sections.law.title")}
                        </h2>
                        <div
                            class="space-y-4"
                            set:html={t(
                                "legal.subscription.sections.law.content"
                            )}
                        >
                        </div>
                    </section>
                </div>
            </div>
        </section>

        <Footer lang={currentLang} />
    </main>
</Layout>
